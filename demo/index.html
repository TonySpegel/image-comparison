<!DOCTYPE html>

<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Tony Spegel" />
    <meta name="theme-color" content="hsl(262, 47%, 55%)" />

    <title>&ltimage-comparison/> Demo</title>
    <style>
      *,
      ::before,
      ::after {
        box-sizing: border-box;
      }

      html {
        block-size: 100%;
        margin: var(--base-gap);
      }

      :where(html) {
        --base-gap: 16px;
        --lilac: hsl(262, 47%, 55%);
        margin: 0;
        padding: 0;
        line-height: calc(0.25rem + 1em + 0.25rem);
      }

      :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      :where(img, svg, video) {
        block-size: auto;
        max-inline-size: 100%;
      }

      body {
        font-family: sans-serif;
        text-align: center;
        color: hsl(263, 52%, 19%);
      }

      h1 {
        margin-bottom: calc(var(--base-gap) / 2);

        font-size: 2em;
        color: var(--lilac);
      }

      hr {
        border: 1px solid var(--lilac);
        background-color: var(--lilac);
        max-width: 180px;
      }

      fieldset {
        border: none;
        margin: calc(var(--base-gap) * 2) auto var(--base-gap);
        width: -moz-fit-content;
        width: fit-content;
        text-align: center;
      }

      #radio-wrapper-container {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: var(--base-gap);
      }

      .radio-wrapper {
        display: flex;
        align-items: center;
        gap: calc(var(--base-gap) / 4);
      }

      input[type='radio'],
      input[type='radio'] + label {
        cursor: pointer;
        margin: 0;
      }

      image-comparison {
        margin: 0 auto;
        max-width: 100%;
        width: 500px;
      }

      img {
        border-radius: calc(var(--base-gap) / 2);
      }

      #copyright-notice {
        position: fixed;
        bottom: var(--base-gap);
        left: 0;
        right: 0;
      }
    </style>
  </head>
  <body>
    <h1>&ltimage-comparison></h1>
    <span role="doc-subtitle"
      >Compare two images using a slider, an overlay, or a split view</span
    >

    <hr>

    <fieldset>
      <legend>Select a variant</legend>

      <div id="radio-wrapper-container">
        <div class="radio-wrapper">
          <input
            checked
            id="variant-slider"
            name="image-comparison-variants"
            type="radio"
            value="slider"
          />
          <label for="variant-slider">Slider</label>
        </div>

        <div class="radio-wrapper">
          <input
            id="variant-overlay"
            name="image-comparison-variants"
            type="radio"
            value="overlay"
          />
          <label for="variant-overlay">Overlay</label>
        </div>

        <div class="radio-wrapper">
          <input
            id="variant-split"
            name="image-comparison-variants"
            type="radio"
            value="split"
          />
          <label for="variant-split">Split view</label>
        </div>
      </div>
    </fieldset>

    <div id="demo"></div>

    <span id="copyright-notice">Â© 2022 Tony Spegel</span>

    <script type="module">
      import { html, render } from 'lit';
      import '../dist/src/image-comparison.js';

      const imageComparisonTemplate = html`
        <image-comparison variant="slider">
          <label slot="label-before" class="image-comparison-label"
            >Original</label
          >
          <label slot="label-after" class="image-comparison-label"
            >Vogue Filter</label
          >

          <img slot="image-before" src="../assets/kasimir.jpg" alt="kasimir" />
          <img
            slot="image-after"
            src="../assets/kasimir_filter.jpg"
            alt="kasimir with filter applied"
          />
        </image-comparison>
      `;

      render(imageComparisonTemplate, document.querySelector('#demo'));

      const radioButtonVariants = document.querySelectorAll(
        'input[type="radio"]'
      );

      const imageComparisonComponent =
        document.querySelector('image-comparison');

      radioButtonVariants.forEach(rbVariant => {
        rbVariant.addEventListener('click', e => {
          const { value } = e.target;

          imageComparisonComponent.setAttribute('variant', value);
        });
      });
    </script>
  </body>
</html>
